{"ast":null,"code":"import _objectSpread from\"/Users/pcperini/Documents/Work/Lumos/real-estate-demo/real-estate-dashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";var initialState={listings:[],filters:{favorites:false}};function listingsReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){// listings\ncase'listings/set_listings':return _objectSpread(_objectSpread({},state),{},{listings:action.value});case'listings/set_listing':{var idx=state.listings.findIndex(function(l){return l.id==action.id;});if(idx===-1){state.listings.push(action.value);}else{state.listings[idx]=action.value;}return _objectSpread({},state);}// listings/listing\ncase'listings/listing/set_favorited':{var _idx=state.listings.findIndex(function(l){return l.id==action.id;});if(_idx===-1){return state;}state.listings[_idx].favorited=true;return _objectSpread({},state);}case'listings/listing/set_unfavorited':{var _idx2=state.listings.findIndex(function(l){return l.id==action.id;});if(_idx2===-1){return state;}state.listings[_idx2].favorited=false;return _objectSpread({},state);}// listings/filters\ncase'listings/filters/toggle_favorites':state.filters.favorites=!state.filters.favorites;return _objectSpread({},state);default:return state;}}function filteredListings(state){if(!state.listings.listings.length){return[];}return state.listings.listings.filter(function(l){return!state.listings.filters.favorites||l.favorited;});}export{listingsReducer,filteredListings};","map":{"version":3,"sources":["/Users/pcperini/Documents/Work/Lumos/real-estate-demo/real-estate-dashboard/src/data/listings.js"],"names":["initialState","listings","filters","favorites","listingsReducer","state","action","type","value","idx","findIndex","l","id","push","favorited","filteredListings","length","filter"],"mappings":"iMAAA,GAAMA,CAAAA,YAAY,CAAG,CACnBC,QAAQ,CAAE,EADS,CAEnBC,OAAO,CAAE,CACPC,SAAS,CAAE,KADJ,CAFU,CAArB,CAOA,QAASC,CAAAA,eAAT,EAAuD,IAA9BC,CAAAA,KAA8B,2DAAtBL,YAAsB,IAARM,CAAAA,MAAQ,2CACrD,OAAQA,MAAM,CAACC,IAAf,EACE;AACA,IAAK,uBAAL,CACE,sCAAYF,KAAZ,MAAmBJ,QAAQ,CAAEK,MAAM,CAACE,KAApC,GACF,IAAK,sBAAL,CAA6B,CAC3B,GAAMC,CAAAA,GAAG,CAAGJ,KAAK,CAACJ,QAAN,CAAeS,SAAf,CAAyB,SAACC,CAAD,QAAOA,CAAAA,CAAC,CAACC,EAAF,EAAQN,MAAM,CAACM,EAAtB,EAAzB,CAAZ,CACA,GAAIH,GAAG,GAAK,CAAC,CAAb,CAAgB,CACdJ,KAAK,CAACJ,QAAN,CAAeY,IAAf,CAAoBP,MAAM,CAACE,KAA3B,EACD,CAFD,IAEO,CACLH,KAAK,CAACJ,QAAN,CAAeQ,GAAf,EAAsBH,MAAM,CAACE,KAA7B,CACD,CACD,wBAAYH,KAAZ,EACD,CAED;AACA,IAAK,gCAAL,CAAuC,CACrC,GAAMI,CAAAA,IAAG,CAAGJ,KAAK,CAACJ,QAAN,CAAeS,SAAf,CAAyB,SAACC,CAAD,QAAOA,CAAAA,CAAC,CAACC,EAAF,EAAQN,MAAM,CAACM,EAAtB,EAAzB,CAAZ,CACA,GAAIH,IAAG,GAAK,CAAC,CAAb,CAAgB,CAAE,MAAOJ,CAAAA,KAAP,CAAe,CACjCA,KAAK,CAACJ,QAAN,CAAeQ,IAAf,EAAoBK,SAApB,CAAgC,IAAhC,CACA,wBAAYT,KAAZ,EACD,CACD,IAAK,kCAAL,CAAyC,CACvC,GAAMI,CAAAA,KAAG,CAAGJ,KAAK,CAACJ,QAAN,CAAeS,SAAf,CAAyB,SAACC,CAAD,QAAOA,CAAAA,CAAC,CAACC,EAAF,EAAQN,MAAM,CAACM,EAAtB,EAAzB,CAAZ,CACA,GAAIH,KAAG,GAAK,CAAC,CAAb,CAAgB,CAAE,MAAOJ,CAAAA,KAAP,CAAe,CACjCA,KAAK,CAACJ,QAAN,CAAeQ,KAAf,EAAoBK,SAApB,CAAgC,KAAhC,CACA,wBAAYT,KAAZ,EACD,CAED;AACA,IAAK,mCAAL,CACEA,KAAK,CAACH,OAAN,CAAcC,SAAd,CAA0B,CAACE,KAAK,CAACH,OAAN,CAAcC,SAAzC,CACA,wBAAYE,KAAZ,EACF,QACE,MAAOA,CAAAA,KAAP,CAjCJ,CAmCD,CAED,QAASU,CAAAA,gBAAT,CAA0BV,KAA1B,CAAiC,CAC/B,GAAI,CAACA,KAAK,CAACJ,QAAN,CAAeA,QAAf,CAAwBe,MAA7B,CAAqC,CAAE,MAAO,EAAP,CAAY,CACnD,MAAOX,CAAAA,KAAK,CAACJ,QAAN,CAAeA,QAAf,CACJgB,MADI,CACG,SAACN,CAAD,QAAO,CAACN,KAAK,CAACJ,QAAN,CAAeC,OAAf,CAAuBC,SAAxB,EAAqCQ,CAAC,CAACG,SAA9C,EADH,CAAP,CAED,CAED,OACEV,eADF,CAEEW,gBAFF","sourcesContent":["const initialState = {\n  listings: [],\n  filters: {\n    favorites: false\n  }\n};\n\nfunction listingsReducer(state = initialState, action) {\n  switch (action.type) {\n    // listings\n    case 'listings/set_listings':\n      return { ...state, listings: action.value };\n    case 'listings/set_listing': {\n      const idx = state.listings.findIndex((l) => l.id == action.id);\n      if (idx === -1) {\n        state.listings.push(action.value);\n      } else {\n        state.listings[idx] = action.value;\n      }\n      return { ...state };\n    }\n\n    // listings/listing\n    case 'listings/listing/set_favorited': {\n      const idx = state.listings.findIndex((l) => l.id == action.id);\n      if (idx === -1) { return state; }\n      state.listings[idx].favorited = true;\n      return { ...state };\n    }\n    case 'listings/listing/set_unfavorited': {\n      const idx = state.listings.findIndex((l) => l.id == action.id);\n      if (idx === -1) { return state; }\n      state.listings[idx].favorited = false;\n      return { ...state };\n    }\n\n    // listings/filters\n    case 'listings/filters/toggle_favorites':\n      state.filters.favorites = !state.filters.favorites\n      return { ...state };\n    default:\n      return state;\n  }\n}\n\nfunction filteredListings(state) {\n  if (!state.listings.listings.length) { return []; }\n  return state.listings.listings\n    .filter((l) => !state.listings.filters.favorites || l.favorited)\n}\n\nexport {\n  listingsReducer,\n  filteredListings\n};\n"]},"metadata":{},"sourceType":"module"}