{"ast":null,"code":"import{post}from'./api';import sha256 from'js-sha256';function login(email,password,dispatch){// Unsalted SHA256 is insufficiently secure.\n// Replace with bcrypt or service like Auth0.\nvar hash=sha256(password);post('/login',{email:email,hash:hash}).then(function(res){dispatch({type:'session/refresh_token'});});}function access(access_code,dispatch){post('/login',{access_code:access_code}).then(function(res){dispatch({type:'session/refresh_token'});});}export{login,access};","map":{"version":3,"sources":["/Users/pcperini/Documents/Work/Lumos/real-estate-demo/real-estate-dashboard/src/data/api/login.js"],"names":["post","sha256","login","email","password","dispatch","hash","then","res","type","access","access_code"],"mappings":"AAAA,OAASA,IAAT,KAAqB,OAArB,CACA,MAAOC,CAAAA,MAAP,KAAmB,WAAnB,CAEA,QAASC,CAAAA,KAAT,CAAeC,KAAf,CAAsBC,QAAtB,CAAgCC,QAAhC,CAA0C,CACxC;AACA;AACA,GAAMC,CAAAA,IAAI,CAAGL,MAAM,CAACG,QAAD,CAAnB,CAEAJ,IAAI,CAAC,QAAD,CAAW,CAAEG,KAAK,CAALA,KAAF,CAASG,IAAI,CAAJA,IAAT,CAAX,CAAJ,CACGC,IADH,CACQ,SAACC,GAAD,CAAS,CACbH,QAAQ,CAAC,CAAEI,IAAI,CAAE,uBAAR,CAAD,CAAR,CACD,CAHH,EAID,CAED,QAASC,CAAAA,MAAT,CAAgBC,WAAhB,CAA6BN,QAA7B,CAAuC,CACrCL,IAAI,CAAC,QAAD,CAAW,CAAEW,WAAW,CAAXA,WAAF,CAAX,CAAJ,CACGJ,IADH,CACQ,SAACC,GAAD,CAAS,CACbH,QAAQ,CAAC,CAAEI,IAAI,CAAE,uBAAR,CAAD,CAAR,CACD,CAHH,EAID,CAED,OACEP,KADF,CAEEQ,MAFF","sourcesContent":["import { post } from './api';\nimport sha256 from 'js-sha256';\n\nfunction login(email, password, dispatch) {\n  // Unsalted SHA256 is insufficiently secure.\n  // Replace with bcrypt or service like Auth0.\n  const hash = sha256(password);\n\n  post('/login', { email, hash })\n    .then((res) => {\n      dispatch({ type: 'session/refresh_token' });\n    });\n}\n\nfunction access(access_code, dispatch) {\n  post('/login', { access_code })\n    .then((res) => {\n      dispatch({ type: 'session/refresh_token' });\n    });\n}\n\nexport {\n  login,\n  access\n};\n"]},"metadata":{},"sourceType":"module"}