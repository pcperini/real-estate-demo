{"ast":null,"code":"import _classCallCheck from\"/Users/pcperini/Documents/Work/Lumos/real-estate-demo/real-estate-dashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/pcperini/Documents/Work/Lumos/real-estate-demo/real-estate-dashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/pcperini/Documents/Work/Lumos/real-estate-demo/real-estate-dashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/pcperini/Documents/Work/Lumos/real-estate-demo/real-estate-dashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import Popover from'react-popover';import{connect}from'react-redux';import{withRouter}from'react-router-dom';import{update}from'../data/store';import{copyShareLink}from'../data/api/share';import'./ShareSheet.css';function _handleSubmit(dispatch){return function(email,id){return function(event){event.preventDefault();copyShareLink(id,email);};};}var ShareSheet=/*#__PURE__*/function(_React$Component){_inherits(ShareSheet,_React$Component);var _super=_createSuper(ShareSheet);function ShareSheet(){var _this;_classCallCheck(this,ShareSheet);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={isOpen:false};return _this;}_createClass(ShareSheet,[{key:\"toggle\",value:function toggle(){var toState=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;this.setState({isOpen:toState===null?!this.state.isOpen:toState});}},{key:\"render\",value:function render(){var _this2=this;var anchor=React.cloneElement(this.props.anchor,{onClick:function onClick(){return _this2.toggle(!_this2.state.isOpen);}});return/*#__PURE__*/React.createElement(Popover,{isOpen:this.state.isOpen,body:this.renderForm()},anchor);}},{key:\"renderForm\",value:function renderForm(){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h1\",null,\"Share\"),/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.props.handleSubmit(this.props.email)},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"email\"},\"Recipient's Email\"),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"email\",onChange:this.props.updateEmail}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"input\",{type:\"submit\",value:\"Copy Invitation Link\"})));}}]);return ShareSheet;}(React.Component);export default withRouter(connect(function(state){return{email:state.share.email};},function(dispatch,ownProps){return{updateEmail:function updateEmail(e){return update('share/form/set_email')(dispatch,e);},handleSubmit:function handleSubmit(email){return _handleSubmit(dispatch)(email,ownProps.match.params.id);}};})(ShareSheet));","map":{"version":3,"sources":["/Users/pcperini/Documents/Work/Lumos/real-estate-demo/real-estate-dashboard/src/components/ShareSheet.js"],"names":["React","Popover","connect","withRouter","update","copyShareLink","handleSubmit","dispatch","email","id","event","preventDefault","ShareSheet","state","isOpen","toState","setState","anchor","cloneElement","props","onClick","toggle","renderForm","updateEmail","Component","share","ownProps","e","match","params"],"mappings":"wvBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,OAAP,KAAoB,eAApB,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,OAASC,MAAT,KAAuB,eAAvB,CACA,OAASC,aAAT,KAA8B,mBAA9B,CACA,MAAO,kBAAP,CAEA,QAASC,CAAAA,aAAT,CAAsBC,QAAtB,CAAgC,CAC9B,MAAO,UAACC,KAAD,CAAQC,EAAR,CAAe,CACpB,MAAO,UAACC,KAAD,CAAW,CAChBA,KAAK,CAACC,cAAN,GACAN,aAAa,CAACI,EAAD,CAAKD,KAAL,CAAb,CACD,CAHD,CAID,CALD,CAMD,C,GAEKI,CAAAA,U,uVACJC,K,CAAQ,CAAEC,MAAM,CAAE,KAAV,C,6EAEa,IAAdC,CAAAA,OAAc,2DAAN,IAAM,CACnB,KAAKC,QAAL,CAAc,CAAEF,MAAM,CAAEC,OAAO,GAAK,IAAZ,CAAmB,CAAC,KAAKF,KAAL,CAAWC,MAA/B,CAAwCC,OAAlD,CAAd,EACD,C,uCAEQ,iBACP,GAAME,CAAAA,MAAM,CAAGjB,KAAK,CAACkB,YAAN,CAAmB,KAAKC,KAAL,CAAWF,MAA9B,CAAsC,CACnDG,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACC,MAAL,CAAY,CAAC,MAAI,CAACR,KAAL,CAAWC,MAAxB,CAAN,EAD0C,CAAtC,CAAf,CAIA,mBACE,oBAAC,OAAD,EACE,MAAM,CAAE,KAAKD,KAAL,CAAWC,MADrB,CAEE,IAAI,CAAE,KAAKQ,UAAL,EAFR,EAIGL,MAJH,CADF,CAQD,C,+CAEY,CACX,mBACE,4CACE,sCADF,cAEE,4BAAM,QAAQ,CAAE,KAAKE,KAAL,CAAWb,YAAX,CAAwB,KAAKa,KAAL,CAAWX,KAAnC,CAAhB,eACE,6BAAO,OAAO,CAAC,OAAf,sBADF,cAEE,8BAFF,cAGE,6BAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,OAAxB,CAAgC,QAAQ,CAAE,KAAKW,KAAL,CAAWI,WAArD,EAHF,cAIE,8BAJF,cAKE,6BAAO,IAAI,CAAC,QAAZ,CAAqB,KAAK,CAAC,sBAA3B,EALF,CAFF,CADF,CAYD,C,wBAnCsBvB,KAAK,CAACwB,S,EAsC/B,cAAerB,CAAAA,UAAU,CAACD,OAAO,CAC/B,SAACW,KAAD,QAAY,CACVL,KAAK,CAAEK,KAAK,CAACY,KAAN,CAAYjB,KADT,CAAZ,EAD+B,CAI/B,SAACD,QAAD,CAAWmB,QAAX,QAAyB,CACvBH,WAAW,CAAE,qBAACI,CAAD,QAAOvB,CAAAA,MAAM,CAAC,sBAAD,CAAN,CAA+BG,QAA/B,CAAyCoB,CAAzC,CAAP,EADU,CAEvBrB,YAAY,CAAE,sBAACE,KAAD,QACZF,CAAAA,aAAY,CAACC,QAAD,CAAZ,CAAuBC,KAAvB,CAA8BkB,QAAQ,CAACE,KAAT,CAAeC,MAAf,CAAsBpB,EAApD,CADY,EAFS,CAAzB,EAJ+B,CAAP,CAUxBG,UAVwB,CAAD,CAAzB","sourcesContent":["import React from 'react';\nimport Popover from 'react-popover';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport { update } from '../data/store';\nimport { copyShareLink } from '../data/api/share';\nimport './ShareSheet.css';\n\nfunction handleSubmit(dispatch) {\n  return (email, id) => {\n    return (event) => {\n      event.preventDefault();\n      copyShareLink(id, email);\n    };\n  };\n}\n\nclass ShareSheet extends React.Component {\n  state = { isOpen: false }\n\n  toggle(toState=null) {\n    this.setState({ isOpen: toState === null ? !this.state.isOpen : toState })\n  }\n\n  render() {\n    const anchor = React.cloneElement(this.props.anchor, {\n      onClick: () => this.toggle(!this.state.isOpen)\n    });\n\n    return (\n      <Popover\n        isOpen={this.state.isOpen}\n        body={this.renderForm()}\n      >\n        {anchor}\n      </Popover>\n    );\n  }\n\n  renderForm() {\n    return (\n      <div>\n        <h1>Share</h1>\n        <form onSubmit={this.props.handleSubmit(this.props.email)}>\n          <label htmlFor=\"email\">Recipient's Email</label>\n          <br/>\n          <input type=\"text\" name=\"email\" onChange={this.props.updateEmail}/>\n          <br/>\n          <input type=\"submit\" value=\"Copy Invitation Link\"/>\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(connect(\n  (state) => ({\n    email: state.share.email\n  }),\n  (dispatch, ownProps) => ({\n    updateEmail: (e) => update('share/form/set_email')(dispatch, e),\n    handleSubmit: (email) => (\n      handleSubmit(dispatch)(email, ownProps.match.params.id)\n    )\n  })\n)(ShareSheet));\n"]},"metadata":{},"sourceType":"module"}